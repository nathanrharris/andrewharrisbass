!function(t){var i=t("img.js-focal-point-image");t(window).on("load",function(){i.one("load",function(){t(this).css("max-width","none").responsify()}).each(function(){this.complete&&t(this).load().responsify()})}),t(window).on("resize",function(){i.responsify()}),t.fn.responsify=function(){return this.each(function(){var i,o,e,n,a,s,r,f,h,c,u,d,p=t(this);if(i=p.width(),o=p.height(),e=p.parent().width(),n=p.parent().height(),a=Number(p.attr("data-focus-left")),s=Number(p.attr("data-focus-top")),r=Number(p.attr("data-focus-right")),f=Number(p.attr("data-focus-bottom")),i/o>e/n){var l=(r-a)*i;l/o>e/n?(c=o*e/l,h=i*e/l,d=-a*h,u=(n-c)/2):(c=n,h=n*i/o,d=e/2-(a+r)*h/2,d=d>0?0:d,d=e-d-h>0?e-h:d,u=0)}else{var m=(f-s)*o;m/i>n/e?(h=i*n/m,c=o*n/m,u=-s*c,d=(e-h)/2):(h=e,c=e*o/i,u=n/2-(s+f)*c/2,u=u>0?0:u,u=n-u-c>0?n-c:u,d=0)}p.parent().css({overflow:"hidden"}),p.css({position:"relative",height:c,width:h,left:d,top:u})})}}(jQuery);
